<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-workflows">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Workflows | COVID-19 Credentials with a Federated PKI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/cc-pki/workflows"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Workflows | COVID-19 Credentials with a Federated PKI"><meta data-rh="true" name="description" content="Definitions"><meta data-rh="true" property="og:description" content="Definitions"><link data-rh="true" rel="icon" href="/cc-pki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/cc-pki/workflows"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/cc-pki/workflows" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/cc-pki/workflows" hreflang="x-default"><link rel="stylesheet" href="/cc-pki/assets/css/styles.e14a5dbf.css">
<link rel="preload" href="/cc-pki/assets/js/runtime~main.98044431.js" as="script">
<link rel="preload" href="/cc-pki/assets/js/main.8c70d890.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cc-pki/"><b class="navbar__title text--truncate">C19 PKI</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cc-pki/">Guide</a><a href="https://worldhealthorganization.github.io/ddcc/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">WHO DDCC IG</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/dvci/cc-pki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cc-pki/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/cc-pki/workflows">Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cc-pki/trust-reg-network">Trust Registry Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cc-pki/trust-list-specification">Trust List Specification</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cc-pki/category/trust-gateway">Trust Gateway</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trust Gateway&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cc-pki/category/business-rules">Business Rules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Business Rules&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cc-pki/category/covid">COVID</a><button aria-label="Toggle the collapsible sidebar category &#x27;COVID&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cc-pki/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Workflows</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Workflows</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a class="hash-link" href="#definitions" title="Direct link to heading">​</a></h2><p>Acots, transactions, and workflows are defined using the <a href="https://profiles.ihe.net/GeneralIntro/ch-3.html" target="_blank" rel="noopener noreferrer">Integrating the
Healthcare Enterprise (IHE) definitions</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="actors">Actors<a class="hash-link" href="#actors" title="Direct link to heading">​</a></h2><p>Actors produce, manage, or act on health information. Actors relevant to a Federated Trust Network include:</p><ul><li><strong>Credential Issuers:</strong> Credential Issuers generate digital vaccine
certificates which may be issued to individuals. Issuers may generate
vaccine certificates using one or more representations including DCC,
VDS-NC, DIVOC, SHC, or other formats.</li><li><strong>Credential Holders:</strong> Credential Holders are individuals or applications
which possess a vaccine certificate.</li><li><strong>Local Public Key Directory (PKD):</strong> Local PKDs provides access to public
keys used to validate vaccine certificates. Many Local PKDs may exist and be
associated with one or more jurisdictions or specifications. Format and access
mechanisms may vary across Local PKDs.</li><li><strong>Federated PKD:</strong> The Federated PKD provides a signed master list of keys
aggregated across one or more Local PKDs.</li><li><strong>Verification Application:</strong> Verification Applications are capable of
verifying cryptographic signatures of vaccine credentials by using public
keys. Public keys may be retrieved from either a Local or Federated PKD.</li><li><strong>Business Rules Library:</strong> trusted service, provided by a node within a trust network, to share business rules using Clinical Quality Language (CQL) specification</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transactions">Transactions<a class="hash-link" href="#transactions" title="Direct link to heading">​</a></h2><p>Transactions define how actors exchange information between one another.
Transactions relevant to a Federated Trust Network include:</p><ul><li><strong>Credential Issuance:</strong> Credential Issuers may provide a vaccine
certificate to a Credential Holder.</li><li><strong>PKD Mirroring:</strong> A Federated PKD may mirror, or copy, public keys contained
in another PKD.</li><li><strong>Public Key Retrieval:</strong> An actor, including PKDs or Verification Applications,
may retrieve a key from a PKD.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflows-1">Workflows<a class="hash-link" href="#workflows-1" title="Direct link to heading">​</a></h2><p>A workflow is a set of interactions among multiple actors.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="credential-issuance">Credential Issuance<a class="hash-link" href="#credential-issuance" title="Direct link to heading">​</a></h3><p>Credential Issuers provide vaccine certificates to individuals normally
using their local format. They are responsible for verifying the identity of the individual against an ID document and the eligibility of the individual for the service. </p><p><strong>ACTORS:</strong></p><ul><li>Credential Issuers</li><li>Credential Holders</li></ul><p><strong>TRANSACTION:</strong> Issue health document</p><p><img loading="lazy" alt="Issuance Workflow Diagram" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNDBweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUwMnB4O2hlaWdodDoyNDBweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MDIgMjQwIiB3aWR0aD0iNTAycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjI2LjQ4ODMiIGlkPSJfdGl0bGUiIHN0eWxlPSJzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE1MSIgeD0iMTc3LjI1IiB5PSIxMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEiIHg9IjE4Mi4yNSIgeT0iMjguNTM1MiI+Q3JlZGVudGlhbCBJc3N1YW5jZTwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjEyNS4yNDIyIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0ODcuNSIgeD0iOSIgeT0iOTAuOTc2NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxNDEiIHgyPSIxNDEiIHkxPSI3My45NzY2IiB5Mj0iMTU4LjkwODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjEuMCw0LjA7IiB4MT0iMTQxIiB4Mj0iMTQxIiB5MT0iMTU4LjkwODIiIHkyPSIxODYuOTA4MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxNDEiIHgyPSIxNDEiIHkxPSIxODYuOTA4MiIgeTI9IjIzMy4yMTg4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjQxOC41IiB4Mj0iNDE4LjUiIHkxPSI3My45NzY2IiB5Mj0iMTU4LjkwODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjEuMCw0LjA7IiB4MT0iNDE4LjUiIHgyPSI0MTguNSIgeTE9IjE1OC45MDgyIiB5Mj0iMTg2LjkwODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNDE4LjUiIHgyPSI0MTguNSIgeTE9IjE4Ni45MDgyIiB5Mj0iMjMzLjIxODgiLz48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjQ4ODMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzMCIgeD0iNzYiIHk9IjQyLjQ4ODMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYiIHg9IjgzIiB5PSI2My4wMjM0Ij5DcmVkZW50aWFsIElzc3VlcjwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjQ4ODMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzNSIgeD0iMzUxLjUiIHk9IjQyLjQ4ODMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjEiIHg9IjM1OC41IiB5PSI2My4wMjM0Ij5DcmVkZW50aWFsIEhvbGRlcjwvdGV4dD48cGF0aCBkPSJNOSw5MC45NzY2IEwxNjMsOTAuOTc2NiBMMTYzLDk4LjI4NzEgTDE1MywxMDguMjg3MSBMOSwxMDguMjg3MSBMOSw5MC45NzY2ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMjUuMjQyMiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNDg3LjUiIHg9IjkiIHk9IjkwLjk3NjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5IiB4PSIyNCIgeT0iMTA0LjU0NDkiPklzc3VlIENyZWRlbnRpYWw8L3RleHQ+PHBhdGggZD0iTTE5LDExMy4yODcxIEwxOSwxNTMuMjg3MSBMMjYyLDE1My4yODcxIEwyNjIsMTIzLjI4NzEgTDI1MiwxMTMuMjg3MSBMMTksMTEzLjI4NzEgIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjUyLDExMy4yODcxIEwyNTIsMTIzLjI4NzEgTDI2MiwxMjMuMjg3MSBMMjUyLDExMy4yODcxICIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc3IiB4PSIyNSIgeT0iMTMwLjg1NTUiPkNyZWRlbnRpYWwgSXNzdWVyIGNvbnN0cnVjdHM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjIyIiB4PSIyNSIgeT0iMTQ2LjE2NiI+dmFjY2luZSBjZXJ0aWZpY2F0ZSBmcm9tIGhlYWx0aCBkYXRhPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDA3LDIwNC4yMTg4LDQxNywyMDguMjE4OCw0MDcsMjEyLjIxODgsNDExLDIwOC4yMTg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNDEiIHgyPSI0MTMiIHkxPSIyMDguMjE4OCIgeTI9IjIwOC4yMTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjU0IiB4PSIxNDgiIHk9IjIwMy40NzY2Ij5Qcm92aWRlcyB2YWNjaW5lIGNlcnRpZmljYXRlIHRvIGluZGl2aWR1YWw8L3RleHQ+PCEtLU1ENT1bYWMyMTFjYjZlNTVhMWQ0OWQ1M2ZmZmU4ZWM1OWE5YTRdCkBzdGFydHVtbA0KDQp0aXRsZSBDcmVkZW50aWFsIElzc3VhbmNlDQpoaWRlIGZvb3Rib3gNCnBhcnRpY2lwYW50ICJDcmVkZW50aWFsIElzc3VlciIgYXMgQ0kNCnBhcnRpY2lwYW50ICJDcmVkZW50aWFsIEhvbGRlciIgYXMgSG9sZGVyDQoNCmdyb3VwIElzc3VlIENyZWRlbnRpYWwNCiAgICBub3RlIG92ZXIgQ0kNCiAgICBDcmVkZW50aWFsIElzc3VlciBjb25zdHJ1Y3RzDQogICAgdmFjY2luZSBjZXJ0aWZpY2F0ZSBmcm9tIGhlYWx0aCBkYXRhDQogICAgZW5kIG5vdGUNCiAgICAuLi4NCiAgICAiQ0kiIC0+ICJIb2xkZXIiIDogUHJvdmlkZXMgdmFjY2luZSBjZXJ0aWZpY2F0ZSB0byBpbmRpdmlkdWFsDQplbmQNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMi43KE1vbiBBdWcgMjIgMTM6MDE6MzAgRURUIDIwMjIpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBPcGVuSkRLIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBPcGVuSkRLIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4=" width="502" height="240" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="federated-pkd-aggregation">Federated PKD Aggregation<a class="hash-link" href="#federated-pkd-aggregation" title="Direct link to heading">​</a></h3><p>Keys from Local PKDs are aggregated in a federated PKD for use by verification
applications.</p><p><strong>ACTORS:</strong></p><ul><li>Local PKD – acts as a node within a trust network​</li><li>Aggregating/Federated PKD – trusted aggregation of public keys and trusted services from nodes</li></ul><p><strong>TRANSACTION:</strong> Mirror Local PKD</p><p>Steps include:</p><ul><li>Local PKD onboarding (one-time). Onboarding may include evaluating Local PKD
format, providing the Federated PKD access, and signing of business agreements.</li><li>Local PKD public keys are mirrored (periodic)</li><li>Mirrored public keys are merged into a master list (periodic)</li><li>Master list is digitally signed for distribution</li></ul><p>Local PKDs participating in the Federated PKD are expected to:</p><ul><li>Have an existing public key infrastructure used for issuing trusted health documents (e.g. COVID credentials)</li><li>Have permissions/policies in place that allow sharing the public keys</li><li>Can share public keys in one of the following formats:<ul><li>X.509</li><li>JSON Web Keys (JWK)</li><li>Decentralized Identifiers (DID)</li></ul></li></ul><p>Federated PKDs are expected to:</p><ul><li>Have a means for retrieving local public key directories / nodes members represented in the aggregation services</li><li>Have permissions/policies in place that allow sharing the public keys from trust node members</li><li>Have an existing public key infrastructure used for signing list of keys my node members</li><li>Can share list of public keys in the following format:<ul><li>Decentralized Identifiers (DID)</li></ul></li></ul><p><img loading="lazy" alt="Aggregation Workflow Diagram" src="/cc-pki/assets/images/aggregation-d59093af9d2b1cebaeefd43eab88e244.svg" width="555" height="411" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="federated-verification">Federated Verification<a class="hash-link" href="#federated-verification" title="Direct link to heading">​</a></h3><p>Verifications can cryptographically verify health credentials using keys retrieved from
the Federated PKD.</p><p><strong>ACTORS:</strong></p><ul><li>Universal Verification Application –  verifies health documents using Public Key Infrastructure (PKI)​</li><li>Local PKD – acts as a node within a trust network​</li><li>Aggregating/Federated PKD – trusted aggregation of public keys and trusted services from nodes</li></ul><p><strong>TRANSACTION:</strong> Request PKD</p><p>Universal Verification Application steps:</p><ul><li>Onboarding a Federated PKD by retrieving the signing key used to sign
the master list (one-time).</li><li>Retrieving the master list from the Federated PKD and verifying the signature (periodic).</li><li>Deserializing the vaccine credential 2D bar-code to determine the key id.</li><li>Retrieving the public key associated with the key id from the master list, or using a cached key.</li><li>Verifying <ul><li>the cryptographic signature within the 2D barcode.</li><li>the authority of the issuer to issue this type of certificate with this key.</li><li>the expiration date of the keys.</li><li>the expiration date from the certificate.</li><li>the certificate is not part of revocation lists available.</li><li>the issuing key is still present on a trust list by the issuing authority (not revoked).</li><li>the issuing key is still present on the trust list of the verification authority.</li><li>the name/identity on the certificate matches an ID document.</li><li>the business rules of the verification jurisdiction pass for the certificate.  </li></ul></li></ul><p><img loading="lazy" alt="Verification Workflow Diagram" src="/cc-pki/assets/images/verification-4780f3ad767c2be08b6525fa442a80bc.svg" width="953" height="371" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-business-rule-validation">Dynamic Business Rule Validation​<a class="hash-link" href="#dynamic-business-rule-validation" title="Direct link to heading">​</a></h3><p>Validate one or more verified COVID credential against a dynamic business rule.​</p><p><strong>ACTORS:</strong></p><ul><li>Universal Verification Application – executes business rules against verified health documents​</li><li>Business Rules Library – trusted service, provided by a node within a trust network, to share business rules using Clinical Quality Language (CQL) specification​</li></ul><p><strong>PRE-CONDITION:</strong> Verification Application has passed Verification Workflow​</p><p><strong>TRANSACTION:</strong> Request Business Rule Updates</p><p>Business Rules Library:​</p><ul><li>Expresses health policies (e.g. “Needs full course of vaccine”) as executable business​
rule using the Clinical Quality Language (CQL)​</li><li>Publishes business rules as FHIR Library resources with a trust health service​
Optionally:​<ul><li>Provide digital signagure of business rule as FHIR Provenance resource​</li><li>Provides public key to PKD​</li></ul></li></ul><p><strong>TRANSACTION:</strong> Execute Business Rule​  </p><p>Universal Verification App:​</p><ul><li>Pre-Condition: Perform Federated Verification workflow on one ore more QR-code​</li><li>Identify one (or more) business rule(s) to be exectued according to use case​</li><li>Optionally:​<ul><li>Retrieves business rule signing public key from PKD (either Local PKD or via Aggregating/ Federated PKD)​</li><li>Verifies authenticity of business rule​</li></ul></li><li>Map QR-code content into requiste FHIR resources using FHIR Structure Maps​</li><li>Execute CQL businns rule on FHIR resource content</li></ul><p><strong>OUT OF SCOPE:</strong> consolidating business rules across trust network members​</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/workflows.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cc-pki/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cc-pki/trust-reg-network"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Trust Registry Network</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#definitions" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#actors" class="table-of-contents__link toc-highlight">Actors</a></li><li><a href="#transactions" class="table-of-contents__link toc-highlight">Transactions</a></li><li><a href="#workflows-1" class="table-of-contents__link toc-highlight">Workflows</a><ul><li><a href="#credential-issuance" class="table-of-contents__link toc-highlight">Credential Issuance</a></li><li><a href="#federated-pkd-aggregation" class="table-of-contents__link toc-highlight">Federated PKD Aggregation</a></li><li><a href="#federated-verification" class="table-of-contents__link toc-highlight">Federated Verification</a></li><li><a href="#dynamic-business-rule-validation" class="table-of-contents__link toc-highlight">Dynamic Business Rule Validation​</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cc-pki/">Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chat.fhir.org/#narrow/stream/328106-who-smart-guidelines.2Ftrust-registry" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dvci/cc-pki" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 The MITRE Corporation</div></div></div></footer></div>
<script src="/cc-pki/assets/js/runtime~main.98044431.js"></script>
<script src="/cc-pki/assets/js/main.8c70d890.js"></script>
</body>
</html>